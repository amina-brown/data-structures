//Week 4
 //Part 1 - Create table
 const { Client } = require('pg');
 const dotenv = require('dotenv'); //already declared in week 3
 dotenv.config();  

// AWS RDS POSTGRESQL INSTANCE
var db_credentials = new Object();
db_credentials.user = 'amina_brown';
db_credentials.host = 'data-structures.csmsogfdecpu.us-east-1.rds.amazonaws.com';
db_credentials.database = 'aa';
db_credentials.password = process.env.AWS_DB_PW;
db_credentials.port = 5432;

// Connect to the AWS RDS Postgres database
// const client = new Client(db_credentials);
// client.connect();

// // Sample SQL statement to create a table: 
// // var thisQuery = "CREATE TABLE aa_meeting (address varchar(100), lat double precision, long double precision, zip varchar(5), building varchar(100), floorInfo varchar(150), groupName varchar(50), wcAccess boolean, day varchar(10), startTime varchar(10), endTime varchar(10), meetingType varchar(30), specialInterest varchar(50), details varchar(250));";
// // Sample SQL statement to delete a table: 
// var thisQuery = "DROP TABLE aa_meeting; CREATE TABLE aa_meeting (address varchar(100), lat double precision, long double precision, zip varchar(5), building varchar(100), floorInfo varchar(150), groupName varchar(50), wcAccess int, day varchar(10), startTime varchar(10), endTime varchar(10), meetingType varchar(30), specialInterest varchar(50), details varchar(250));"; 

// client.query(thisQuery, (err, res) => {
//     console.log(err, res);
//     client.end();
// });

//Part 2 - Insert rows
// const { Client } = require('pg') //already declared in part 1
var async = require('async'); //already declared in week 3
// const dotenv = require('dotenv'); //already declared in week 3
// dotenv.config();  
var fs = require('fs');

// // AWS RDS POSTGRESQL INSTANCE
// var db_credentials = new Object();
// db_credentials.user = 'amina_brown';
// db_credentials.host = 'data-structures.csmsogfdecpu.us-east-1.rds.amazonaws.com';
// db_credentials.database = 'aa';
// db_credentials.password = process.env.AWS_DB_PW;
// db_credentials.port = 5432;

// var addressesForDb = [{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"120 W 69TH ST New York NY ","latLong":{"lat":"40.7756982","long":"-73.9810333"}},{"address":"422 W 57TH ST New York NY ","latLong":{"lat":"40.7682311","long":"-73.9868768"}},{"address":"164 W 74TH ST New York NY ","latLong":{"lat":"40.7796117","long":"-73.9801807"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"144 W 90TH ST New York NY ","latLong":{"lat":"40.7898068","long":"-73.9723737"}},{"address":"141 W 73RD ST New York NY ","latLong":{"lat":"40.7789036","long":"-73.9799533"}},{"address":"4 W 76TH ST New York NY ","latLong":{"lat":"40.7788736","long":"-73.9745891"}},{"address":"221 W 107TH ST New York NY ","latLong":{"lat":"40.8017795","long":"-73.9665393"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"215 W 82ND ST New York NY ","latLong":{"lat":"40.7852818734432","long":"-73.9771060064311"}},{"address":"601 W 114TH ST New York NY ","latLong":{"lat":"40.8069051","long":"-73.965058"}},{"address":"CENTRAL PARK WEST 76TH ST New York NY ","latLong":{"lat":"40.6639307188879","long":"-73.9382749875207"}},{"address":"5 W 63RD ST New York NY ","latLong":{"lat":"40.7708644","long":"-73.9806413"}},{"address":"4 W 76TH ST New York NY ","latLong":{"lat":"40.7788736","long":"-73.9745891"}},{"address":"160 CENTRAL PARK W New York NY ","latLong":{"lat":"40.7787712","long":"-73.9743066"}},{"address":"152 W 66TH ST New York NY ","latLong":{"lat":"40.7744405","long":"-73.9838262"}},{"address":"3 W 95TH ST New York NY ","latLong":{"lat":"40.7912379","long":"-73.9655109"}},{"address":"251 W 80TH ST New York NY ","latLong":{"lat":"40.7848713","long":"-73.9800524"}},{"address":"111 W 71ST ST New York NY ","latLong":{"lat":"40.7769516","long":"-73.9795507"}},{"address":"5 W 63RD ST New York NY ","latLong":{"lat":"40.7708644","long":"-73.9806413"}},{"address":"5 W 63RD ST New York NY ","latLong":{"lat":"40.7708644","long":"-73.9806413"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"26 W 84TH ST New York NY ","latLong":{"lat":"40.7844228","long":"-73.9716168"}},{"address":"200 W 97TH ST New York NY ","latLong":{"lat":"40.7946604892952","long":"-73.9699229082063"}},{"address":"218 W 108TH ST New York NY ","latLong":{"lat":"40.8021037","long":"-73.9658778"}},{"address":"125 W 104TH ST New York NY ","latLong":{"lat":"40.7985878","long":"-73.9649967"}},{"address":"141 W 73RD ST New York NY ","latLong":{"lat":"40.7789036","long":"-73.9799533"}},{"address":"236 W 73RD ST New York NY ","latLong":{"lat":"40.7796494","long":"-73.982239"}},{"address":"165 W 105TH ST New York NY ","latLong":{"lat":"40.7996866","long":"-73.9657282"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"2504 BROADWAY New York NY ","latLong":{"lat":"40.7927534","long":"-73.972842"}},{"address":"405 W 114TH ST New York NY ","latLong":{"lat":"40.7946083","long":"-73.9358608"}},{"address":"368 W END AVE New York NY ","latLong":{"lat":"40.783225","long":"-73.9817572"}},{"address":"225 W 99TH ST New York NY ","latLong":{"lat":"40.7964452","long":"-73.9694226"}},{"address":"251 W 100TH ST New York NY ","latLong":{"lat":"40.7977791","long":"-73.9709911"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"26 W 84TH ST New York NY ","latLong":{"lat":"40.7844228","long":"-73.9716168"}},{"address":"5 W 63RD ST New York NY ","latLong":{"lat":"40.7708644","long":"-73.9806413"}},{"address":"552 W END AVE New York NY ","latLong":{"lat":"40.78931","long":"-73.9773114"}},{"address":"164 W 74 ST New York NY ","latLong":{"lat":"40.7796117","long":"-73.9801807"}},{"address":"340 W 85TH ST New York NY ","latLong":{"lat":"40.7887343","long":"-73.9798639"}},{"address":"368 W END AVE New York NY ","latLong":{"lat":"40.783225","long":"-73.9817572"}},{"address":"152 W 71ST ST New York NY ","latLong":{"lat":"40.7774259","long":"-73.9812051"}},{"address":"5 W 63RD ST New York NY ","latLong":{"lat":"40.7708644","long":"-73.9806413"}},{"address":"131 W 72ND ST New York NY ","latLong":{"lat":"40.7780247","long":"-73.9798344"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"152 W 71ST ST New York NY ","latLong":{"lat":"40.7774259","long":"-73.9812051"}},{"address":"30 W 68TH ST New York NY ","latLong":{"lat":"40.7740859","long":"-73.979107"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}},{"address":"263 W 86TH ST New York NY ","latLong":{"lat":"40.7887918","long":"-73.9772649"}},{"address":"306 W 102ND ST New York NY ","latLong":{"lat":"40.7992334","long":"-73.9710638"}},{"address":"152 W 71ST ST New York NY ","latLong":{"lat":"40.7774259","long":"-73.9812051"}},{"address":"26 W 84TH ST New York NY ","latLong":{"lat":"40.7844228","long":"-73.9716168"}},{"address":"595 COLUMBUS AVE New York NY ","latLong":{"lat":"40.7879892","long":"-73.9707609"}},{"address":"306 W 102ND ST New York NY ","latLong":{"lat":"40.7992334","long":"-73.9710638"}},{"address":"213 W 82ND ST New York NY ","latLong":{"lat":"40.7760114","long":"-73.9550312"}},{"address":"152 W 71ST ST New York NY ","latLong":{"lat":"40.7774259","long":"-73.9812051"}},{"address":"152 W 71ST ST New York NY ","latLong":{"lat":"40.7774259","long":"-73.9812051"}},{"address":"152 W 71ST ST New York NY ","latLong":{"lat":"40.7774259","long":"-73.9812051"}},{"address":"160 CENTRAL PARK W New York NY ","latLong":{"lat":"40.7787712","long":"-73.9743066"}},{"address":"207 W 96TH ST New York NY ","latLong":{"lat":"40.7945161","long":"-73.9710419"}}];
// var meetingsData = [{"address":"701 W 168TH STREET FORT WASHINGTON AVE New York NY ","latLong":{"lat":"40.8421349959684","long":"-73.9420058396877"},"building":["Holy Rood Church"],"floorInfo":"(Betw Bway & Fort Washington Avenue)","groupName":"BRIDGE TO SOBRIETY (:I)","dayTime":[{"day":"Mondays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"OD = Open Discussion meeting","specialInterest":""},{"day":"Tuesdays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"B = Beginners meeting ","specialInterest":"Living Sober"},{"day":"Wednesdays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"BB = Big Book meeting","specialInterest":""},{"day":"Thursdays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"S = Step meeting","specialInterest":""},{"day":"Fridays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"OD = Open Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"Living Sober Last Tuesday, T Last Wednesday","zip":"10033"},{"address":"715 W 179TH ST New York NY ","latLong":{"lat":"40.8490796467369","long":"-73.9373313893221"},"building":["Holy Rood Church"],"floorInfo":"(Betw Bway & Fort Washington Avenue)","groupName":"BRIDGE TO SOBRIETY (:I)","dayTime":[{"day":"Mondays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"OD = Open Discussion meeting","specialInterest":""},{"day":"Tuesdays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"B = Beginners meeting ","specialInterest":"Living Sober"},{"day":"Wednesdays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"BB = Big Book meeting","specialInterest":""},{"day":"Thursdays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"S = Step meeting","specialInterest":""},{"day":"Fridays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"OD = Open Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"Living Sober Last Tuesday, T Last Wednesday","zip":"10033"},{"address":"715 W 179TH ST New York NY ","latLong":{"lat":"40.8490796467369","long":"-73.9373313893221"},"building":["Holy Rood Church"],"floorInfo":"corner of Fort Washington Avenue","groupName":"BRIDGE TO SOBRIETY (:II)","dayTime":[{"day":"Sundays","startTime":"10:00 AM","endTime":"11:00 AM","meetingType":"S = Step meeting","specialInterest":""}],"wcAccess":"1","details":"10th Step","zip":"10040"},{"address":"431 W 204TH ST New York NY ","latLong":{"lat":"40.8620966104922","long":"-73.9190004613749"},"building":["St. Jude's School"],"floorInfo":"Basement, (Off of 10th Avenue)","groupName":"DYCKMAN","dayTime":[{"day":"Sundays","startTime":"12:00 PM","endTime":"1:00 PM","meetingType":"O = Open meeting","specialInterest":""},{"day":"Wednesdays","startTime":"7:00 PM","endTime":"8:00 PM","meetingType":"S = Step meeting","specialInterest":""}],"wcAccess":"0","details":"BB 1st & T Last Wed.","zip":"10034"},{"address":"550 W 155TH ST New York NY ","latLong":{"lat":"40.8320961144213","long":"-73.944465684352"},"building":["Church of the Intercession"],"floorInfo":"2nd Floor Guild Room, (Betw Amsterdam Avenue & Bway)","groupName":"FOUND","dayTime":[{"day":"Saturdays","startTime":"12:30 PM","endTime":"2:00 PM","meetingType":"C = Closed Discussion meeting ","specialInterest":"Gay Men"}],"wcAccess":"0","details":"Men's meeting & Gay men&apos;s focus. All are welcome. Anniversary last Sat., 1st Sat.=S followed by Bus. Mtg.","zip":"10032"},{"address":"557 W 156TH ST New York NY ","latLong":{"lat":"40.8330065334804","long":"-73.9440819529521"},"building":["Casita Esperanza"],"floorInfo":"NY","groupName":"GRUPO DESPERTAR","dayTime":[{"day":"Wednesdays","startTime":"8:00 PM","endTime":"10:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""},{"day":"Fridays","startTime":"8:00 PM","endTime":"10:00 PM","meetingType":"OD = Open Discussion meeting","specialInterest":""}],"wcAccess":"1","details":"Spanish Speaking Meetings.","zip":""},{"address":"35 THAYER ST New York NY ","latLong":{"lat":"40.8626229492642","long":"-73.9263833803336"},"building":[""],"floorInfo":"Basement, (@ 200th Street, behind Dyckman Avenue )","groupName":"GRUPO LA FLAMA PANAMERICANA","dayTime":[{"day":"Sundays","startTime":"5:00 PM","endTime":"7:00 PM","meetingType":"O = Open meeting","specialInterest":""},{"day":"Tuesdays","startTime":"8:00 PM","endTime":"10:00 PM","meetingType":"O = Open meeting","specialInterest":""},{"day":"Thursdays","startTime":"8:00 PM","endTime":"10:00 PM","meetingType":"O = Open meeting","specialInterest":""},{"day":"Saturdays","startTime":"8:00 PM","endTime":"10:00 PM","meetingType":"O = Open meeting","specialInterest":""}],"wcAccess":"1","details":"Spanish speaking meetings.","zip":"10040"},{"address":"502 WEST165TH ST New York NY ","latLong":{"lat":"40.6639307188879","long":"-73.9382749875207"},"building":["Mount Washington Presbyterian Church"],"floorInfo":"(@ 204th Street, 1 Block East of Broadway)","groupName":"INWOOD FORT TRYON","dayTime":[{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"B = Beginners meeting","specialInterest":""},{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""},{"day":"Tuesdays","startTime":"12:30 PM","endTime":"1:30 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"Sat. Closed meeting rotating step/speaker/trad/anniversary In Dec. first two weeks will be Step meeting","zip":"10034"},{"address":"715 W 179TH ST New York NY ","latLong":{"lat":"40.8490796467369","long":"-73.9373313893221"},"building":["Mount Washington Presbyterian Church"],"floorInfo":"(@ 204th Street, 1 Block East of Broadway)","groupName":"INWOOD FORT TRYON","dayTime":[{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"B = Beginners meeting","specialInterest":""},{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""},{"day":"Tuesdays","startTime":"12:30 PM","endTime":"1:30 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"Sat. Closed meeting rotating step/speaker/trad/anniversary In Dec. first two weeks will be Step meeting","zip":"10034"},{"address":"91 ARDEN ST New York NY ","latLong":{"lat":"40.8639","long":"-73.9283"},"building":["Mount Washington Presbyterian Church"],"floorInfo":"(@ 204th Street, 1 Block East of Broadway)","groupName":"INWOOD FORT TRYON","dayTime":[{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"B = Beginners meeting","specialInterest":""},{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""},{"day":"Tuesdays","startTime":"12:30 PM","endTime":"1:30 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"Sat. Closed meeting rotating step/speaker/trad/anniversary In Dec. first two weeks will be Step meeting","zip":"10034"},{"address":"84 VERMILYEA AVE New York NY ","latLong":{"lat":"40.8659683152661","long":"-73.923146151519"},"building":["Mount Washington Presbyterian Church"],"floorInfo":"(@ 204th Street, 1 Block East of Broadway)","groupName":"INWOOD FORT TRYON","dayTime":[{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"B = Beginners meeting","specialInterest":""},{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""},{"day":"Tuesdays","startTime":"12:30 PM","endTime":"1:30 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"Sat. Closed meeting rotating step/speaker/trad/anniversary In Dec. first two weeks will be Step meeting","zip":"10034"},{"address":"20 CUMMING ST New York NY ","latLong":{"lat":"40.8664805601797","long":"-73.9264534882199"},"building":["Mount Washington Presbyterian Church"],"floorInfo":"(@ 204th Street, 1 Block East of Broadway)","groupName":"INWOOD FORT TRYON","dayTime":[{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"B = Beginners meeting","specialInterest":""},{"day":"Saturdays","startTime":"11:00 AM","endTime":"12:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""},{"day":"Tuesdays","startTime":"12:30 PM","endTime":"1:30 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"Sat. Closed meeting rotating step/speaker/trad/anniversary In Dec. first two weeks will be Step meeting","zip":"10034"},{"address":"620 ISHAM ST New York NY ","latLong":{"lat":"40.8692532379724","long":"-73.9206625253877"},"building":["Church of the Good Shepherd"],"floorInfo":"(Betw Cooper Street & Seaman Avenue)","groupName":"ISHAM PARK","dayTime":[{"day":"Mondays","startTime":"8:00 PM","endTime":"9:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"Open Anniv. Last Mon.","zip":"10034"},{"address":"2005 AMSTERDAM AVE New York NY ","latLong":{"lat":"40.8342635888105","long":"-73.9407982066313"},"building":["COATHA Church on the Hill Senior Center"],"floorInfo":"@ 159th Street","groupName":"PROGRESS NOT PERFECTION","dayTime":[{"day":"Fridays","startTime":"7:30 PM","endTime":"8:30 PM","meetingType":"OD = Open Discussion meeting","specialInterest":""}],"wcAccess":"1","details":"Open Discussion 1st, 2nd, 4th,and 5th when applicable. OPEN meeting is 3rd Fridays","zip":"10032"},{"address":"178 BENNETT AVE New York NY ","latLong":{"lat":"40.8560152221363","long":"-73.9342776437758"},"building":["Our Saviour's Atonement Lutheran Church"],"floorInfo":"2nd Floor (Lorenz Library), (@ 189th Street)","groupName":"THE MEN UPSTAIRS","dayTime":[{"day":"Mondays","startTime":"8:00 PM","endTime":"9:00 PM","meetingType":"C = Closed Discussion meeting ","specialInterest":"Men"}],"wcAccess":"0","details":"Men's Meeting","zip":"10040"},{"address":"178 BENNETT AVE New York NY ","latLong":{"lat":"40.856","long":"-73.9343"},"building":["Our Saviour's Atonement Church"],"floorInfo":"2nd Floor, (@ 189th Street) South Entrance","groupName":"THE MISSING LINK","dayTime":[{"day":"Fridays","startTime":"7:00 PM","endTime":"8:00 PM","meetingType":"BB = Big Book meeting","specialInterest":""}],"wcAccess":"0","details":"1st- Step, 2nd-OD, 3rd-Beg., 4th- BB, 5th- OD","zip":"10040"},{"address":"91 ARDEN ST New York NY ","latLong":{"lat":"40.8639","long":"-73.9283"},"building":["Our Lady Queen of Martyrs"],"floorInfo":"(2 blocks South of Dyckman Street, Betw. Broadway & Sherman Avenue)","groupName":"UPPER MANHATTAN","dayTime":[{"day":"Thursdays","startTime":"7:30 PM","endTime":"8:30 PM","meetingType":"OD = Open Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"","zip":"10034"},{"address":"20 CUMMINGS ST New York NY ","latLong":{"lat":"40.8665","long":"-73.9265"},"building":["Holy Trinity Church"],"floorInfo":"(Betw. Broadway & Seaman Avenue)","groupName":"UPTOWN SATURDAY NIGHT","dayTime":[{"day":"Saturdays","startTime":"7:00 PM","endTime":"8:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"","zip":"10034"},{"address":"715 W 179TH ST New York NY ","latLong":{"lat":"40.8490796467369","long":"-73.9373313893221"},"building":["Holy Rood Church"],"floorInfo":"@ Fort Washington","groupName":"WASHINGTON HEIGHTS                  (:I)","dayTime":[{"day":"Tuesdays","startTime":"7:30 PM","endTime":"8:30 PM","meetingType":"O = Open meeting","specialInterest":""}],"wcAccess":"1","details":"","zip":"10033"},{"address":"189TH STREET AMP BENNETT AVE New York NY ","latLong":{"lat":"40.6639307188879","long":"-73.9382749875207"},"building":["Cornerstone Center"],"floorInfo":"Kitchen, (@ North Building)","groupName":"WASHINGTON HEIGHTS                 (:II)","dayTime":[{"day":"Thursdays","startTime":"7:30 PM","endTime":"8:30 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"","zip":"10040"},{"address":"178 BENNETT AVE New York NY ","latLong":{"lat":"40.856","long":"-73.9343"},"building":["The Corner Stone Center"],"floorInfo":"2nd Floor, (@ 189th Street)","groupName":"WHAT WE ARE LIKE NOW","dayTime":[{"day":"Sundays","startTime":"6:00 PM","endTime":"7:00 PM","meetingType":"C = Closed Discussion meeting","specialInterest":""}],"wcAccess":"0","details":"","zip":"10040"},{"address":"178 BENNETT AVE New York NY ","latLong":{"lat":"40.856","long":"-73.9343"},"building":["Cornerstone Center"],"floorInfo":"Kitchen, (@ 189th Street)","groupName":"WOMEN'S NITE","dayTime":[{"day":"Mondays","startTime":"7:30 PM","endTime":"8:30 PM","meetingType":"BB = Big Book meeting","specialInterest":""}],"wcAccess":"0","details":"","zip":"10040"}]
var meetingsData = JSON.parse(fs.readFileSync('/home/ec2-user/environment/data/z10.json'));

async.eachSeries(meetingsData, function(value, callback) {
    // const client = new Client(db_credentials);
    // client.connect();
    async.eachSeries(value.dayTime, function(entry, callback) {
        const client = new Client(db_credentials);
        client.connect();
        var thisQuery = "INSERT INTO aa_meeting VALUES (E'" + value.address + "', " + value.latLong.lat + ", " + value.latLong.long + ", E'" 
                                                        + value.zip + "', E'" + value.building[0].replace(/'/g,"") + "', E'" + value.floorInfo.replace(/,/g,"").replace(/'/g,"") + "', E'" + value.groupName.replace(/'/g,"").replace(/,/g,"") + "', " 
                                                        + value.wcAccess + ", E'" + entry.day  + "', E'" + entry.startTime  + "', E'" + entry.endTime  + "', E'" 
                                                        + entry.meetingType.replace(/'/g,"")  + "', E'" + entry.specialInterest.replace(/,/g,"").replace(/'/g,"")  + "', E'" + value.details.replace(/,/g,"").replace(/'/g,"").replace(/<br>/g,"") + "');";
    client.query(thisQuery, (err, res) => {
        console.log(err, res);
        client.end();
    });
        setTimeout(callback, 1000); 
        console.log(thisQuery);
    }); 
    setTimeout(callback, 1000); 
    // console.log(thisQuery);
});

//Part 3 - Check contents
// const { Client } = require('pg');  
// const dotenv = require('dotenv');
// dotenv.config();  

// // AWS RDS POSTGRESQL INSTANCE
// var db_credentials = new Object();
// db_credentials.user = 'amina_brown';
// db_credentials.host = 'data-structures.csmsogfdecpu.us-east-1.rds.amazonaws.com';
// db_credentials.database = 'aa';
// db_credentials.password = process.env.AWS_DB_PW;
// db_credentials.port = 5432;

// Connect to the AWS RDS Postgres database
// const client = new Client(db_credentials);

// client.connect();

// // Sample SQL statement to query the entire contents of a table: 
// var thisQuery = "SELECT * FROM aa_meeting;";
// // var thisQuery = "SELECT count(*) FROM aa_address;";

// client.query(thisQuery, (err, res) => {
//     console.log(err, res.rows);
//     client.end();
// });